{
  "meta": {
    "project": "Vibe Marketer",
    "date": "2026-02-20",
    "prepared_by": "Generated by TestSprite"
  },
  "product_overview": "Vibe Marketer is an AI CMO that takes a product description, runs a discovery chat, and produces platform-specific distribution playbooks via multi-agent pipelines with quality scoring and Datadog observability.",
  "core_goals": [
    "Allow users to describe a product and extract Trigger, Hack, and Win through an optional discovery chat.",
    "Generate an ICP and top-3 platform distribution strategy using Amazon Bedrock agents and parallel platform specialists.",
    "Produce platform playbooks with structured sections (WHERE TO GO, WHAT TO TALK ABOUT, WHAT TO SAY, HOW TO ENGAGE) and score them via MiniMax quality judges.",
    "Provide observability by sending campaign metrics and full LLM logs to Datadog.",
    "Surface credential status and graceful error states when external API keys are missing or invalid."
  ],
  "features": [
    {
      "name": "Product Description Input",
      "description": "Collect the user's product description to start discovery or skip directly to strategy generation.",
      "user_flows": [
        "Navigate to / -> Enter product description in text area -> Click \"Start Discovery\" button to begin AI discovery chat -> View AI-generated question in chat interface",
        "Navigate to / -> Enter product description in text area -> Click \"Skip Discovery\" button to go straight to strategy generation -> See discovery conversation summary in expandable section"
      ]
    },
    {
      "name": "Discovery Chat",
      "description": "Multi-turn AI chat (MiniMax) that asks targeted questions to extract Trigger, Hack, and Win and can be skipped early.",
      "user_flows": [
        "Navigate to / -> Click \"Start Discovery\" button to begin AI discovery chat -> View AI-generated question in chat interface -> Type answer in chat input box and submit -> View next AI-generated question -> Click \"I've shared enough — Generate Strategy\" -> See discovery conversation summary in expandable section",
        "Navigate to / -> Attempt to click \"Start Discovery\" button to begin AI discovery chat -> See \"Start Discovery\" button disabled and tooltip/warning about missing MiniMax (ANTHROPIC_API_KEY)"
      ]
    },
    {
      "name": "Strategy Generation",
      "description": "Run the Strategist agent (Amazon Bedrock) to define ICP and top platforms, run platform specialists in parallel, and run MiniMax quality judges.",
      "user_flows": [
        "Navigate to / -> View discovery conversation summary in expandable section -> Click \"Generate Strategy\" button -> View spinner while Agent 1 (Strategist) maps ICP and platforms and Amazon Bedrock Converse API is invoked -> View spinner while platform specialists run in parallel (Amazon Bedrock Converse API called per platform) -> View spinner while quality judges evaluate playbooks (MiniMax Quality Judge API called) -> See strategy results display with ICP and per-platform playbooks",
        "Navigate to / -> Click \"Generate Strategy\" button -> See \"Generate Strategy\" button disabled and warning about missing AWS Bedrock credentials"
      ]
    },
    {
      "name": "Strategy Results Display",
      "description": "Present generated ICP and per-platform playbooks in a tabbed interface with quality scores and rationale.",
      "user_flows": [
        "Navigate to / -> After generation, View ICP tab with ideal customer profile details -> Click platform tab (e.g., Reddit) to view playbook -> View WHERE TO GO section -> View WHAT TO TALK ABOUT section -> View WHAT TO SAY section -> View HOW TO ENGAGE section -> View quality score badge and one-line rationale for the platform",
        "Navigate to / -> After generation, View platform tab -> See quality score missing or \"Quality judge unavailable\" message and a warning about missing MiniMax (ANTHROPIC_API_KEY)"
      ]
    },
    {
      "name": "Datadog Integration",
      "description": "Collect and send campaign metrics and full LLM observability logs to Datadog; allow users to supply a Datadog API key in the sidebar.",
      "user_flows": [
        "Navigate to / -> Enter Datadog API key in sidebar text input -> Observe success status for Datadog connection in sidebar -> Click \"Generate Strategy\" -> Observe metrics (campaign_generated, predicted_ctr) and LLM logs being sent to Datadog Metrics and Logs APIs",
        "Navigate to / -> Enter invalid Datadog API key in sidebar text input -> Observe toast warning about Datadog connection failure -> Click \"Generate Strategy\" -> Observe that metrics/logs are not recorded and toast warning remains"
      ]
    },
    {
      "name": "Credentials Sidebar",
      "description": "Display status of AWS Bedrock, MiniMax, and Datadog credentials loaded from .env and allow resetting session state.",
      "user_flows": [
        "Navigate to / -> View Bedrock credential status (OK or warning) in sidebar -> View MiniMax credential status (OK or warning) in sidebar -> Enter Datadog API key -> Click \"Start Over\" to reset all session state -> See session state reset and UI cleared",
        "Navigate to / -> View Bedrock credential status shows warning about missing AWS credentials -> Attempt to click \"Generate Strategy\" -> See Generate Strategy disabled with tooltip/warning about missing AWS credentials"
      ]
    }
  ],
  "code_summary": {
    "version": "2",
    "type": "frontend",
    "tech_stack": [
      "Python",
      "Streamlit",
      "Amazon Bedrock (Claude Sonnet 4.6)",
      "MiniMax API (Anthropic-compatible)",
      "Datadog API"
    ],
    "routes": [
      {
        "path": "/",
        "file": "app.py",
        "auth_required": false,
        "description": "Main single-page Streamlit app with multi-phase flow"
      }
    ],
    "features": [
      {
        "name": "Product Description Input",
        "description": "User enters a product description to kick off the marketing strategy generation",
        "files": [
          "app.py"
        ],
        "entry_route": "/",
        "user_interactions": [
          "Enter product description in text area",
          "Click \"Start Discovery\" button to begin AI discovery chat",
          "Click \"Skip Discovery\" button to go straight to strategy generation"
        ],
        "api_calls": [],
        "auth_required": false
      },
      {
        "name": "Discovery Chat",
        "description": "Multi-turn AI chat powered by MiniMax M2.5 that asks targeted questions to understand the ICP trigger, hack, and win",
        "files": [
          "app.py"
        ],
        "entry_route": "/",
        "user_interactions": [
          "View AI-generated question in chat interface",
          "Type answer in chat input box and submit",
          "Click \"I've shared enough — Generate Strategy\" to skip remaining questions"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "https://api.minimax.io/anthropic (MiniMax Discovery)"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Strategy Generation",
        "description": "Generates ICP, identifies top 3 platforms, and runs parallel platform specialists via Amazon Bedrock",
        "files": [
          "app.py"
        ],
        "entry_route": "/",
        "user_interactions": [
          "View discovery conversation summary in expandable section",
          "Click \"Generate Strategy\" button",
          "View spinner while Agent 1 (Strategist) maps ICP and platforms",
          "View spinner while platform specialists run in parallel",
          "View spinner while quality judges evaluate playbooks"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "Amazon Bedrock Converse API (Strategist)"
          },
          {
            "method": "POST",
            "endpoint": "Amazon Bedrock Converse API (Platform Specialists - parallel)"
          },
          {
            "method": "POST",
            "endpoint": "https://api.minimax.io/anthropic (Quality Judge)"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Strategy Results Display",
        "description": "Displays generated ICP and per-platform playbooks with quality scores in tabbed interface",
        "files": [
          "app.py"
        ],
        "entry_route": "/",
        "user_interactions": [
          "View ICP tab with ideal customer profile details",
          "Click platform tabs (e.g., Reddit, Twitter, LinkedIn) to view playbooks",
          "View quality score badge and rationale for each platform",
          "View WHERE TO GO, WHAT TO TALK ABOUT, WHAT TO SAY, HOW TO ENGAGE sections"
        ],
        "api_calls": [],
        "auth_required": false
      },
      {
        "name": "Datadog Integration",
        "description": "Sends campaign metrics and logs to Datadog for observability",
        "files": [
          "app.py"
        ],
        "entry_route": "/",
        "user_interactions": [
          "Enter Datadog API key in sidebar text input",
          "View success/warning status for Datadog connection"
        ],
        "api_calls": [
          {
            "method": "POST",
            "endpoint": "https://api.datadoghq.com (Metrics API)"
          },
          {
            "method": "POST",
            "endpoint": "https://http-intake.logs.datadoghq.com/api/v2/logs"
          }
        ],
        "auth_required": false
      },
      {
        "name": "Credentials Sidebar",
        "description": "Sidebar showing status of AWS Bedrock, MiniMax, and Datadog credentials loaded from .env",
        "files": [
          "app.py"
        ],
        "entry_route": "/",
        "user_interactions": [
          "View Bedrock credential status (OK or warning)",
          "View MiniMax credential status (OK or warning)",
          "Enter Datadog API key",
          "Click \"Start Over\" to reset all session state"
        ],
        "api_calls": [],
        "auth_required": false
      }
    ],
    "known_limitations": [
      {
        "issue": "Discovery chat requires ANTHROPIC_API_KEY (MiniMax key) to be set; \"Start Discovery\" button is disabled without it",
        "location": "app.py:475",
        "impact": "Users without MiniMax key can only use \"Skip Discovery\" flow"
      },
      {
        "issue": "Strategy generation requires AWS credentials; \"Skip Discovery\" and \"Generate Strategy\" buttons are disabled without them",
        "location": "app.py:501",
        "impact": "Users without Bedrock credentials cannot generate any strategy"
      },
      {
        "issue": "Datadog metrics silently fail if API key is invalid; only a toast warning is shown",
        "location": "app.py:701",
        "impact": "Metrics may not be recorded without user awareness"
      }
    ]
  }
}
